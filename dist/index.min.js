!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-charts",["exports","xe-utils","echarts"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"),require("echarts/lib/echarts"));else{var a={exports:{}};t(a.exports,e.XEUtils,e.echarts),e.VXETablePluginCharts=a.exports.default}}(this,function(e,u,h){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginCharts=void 0,u=t(u),h=t(h);var r={CHART_BAR_X:function(e){var l=e.$table,t=e.menu;this.$XModal({resize:!0,mask:!1,lockView:!1,showFooter:!1,width:600,height:400,title:t.name,slots:{default:function(e,t){return[t("div",{class:"vxe-chart--wrapper"},[t("div",{class:"vxe-chart--panel"})])]}},events:{show:function(){var e=l.getMouseCheckeds(),a=e.rows,t=e.columns,r=h.default.init(this.$el.querySelector(".vxe-chart--wrapper")),i=t[0],s={data:[]},o=[],n={type:"category",data:a.map(function(e){return u.default.get(e,i.property)})};t.forEach(function(t,e){e&&(s.data.push(t.title),o.push({name:t.title,type:"bar",data:a.map(function(e){return u.default.get(e,t.property)})}))});var c={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:s,xAxis:{type:"value"},yAxis:n,series:o};r.setOption(c),this.$chart=r},close:function(){this.$chart.dispose(),this.$chart=null},zoom:function(){this.$chart.resize()}}})},CHART_BAR_Y:function(e){var l=e.$table,t=e.menu;this.$XModal({resize:!0,mask:!1,lockView:!1,showFooter:!1,width:600,height:400,title:t.name,slots:{default:function(e,t){return[t("div",{class:"vxe-chart--wrapper"},[t("div",{class:"vxe-chart--panel"})])]}},events:{show:function(){var e=l.getMouseCheckeds(),a=e.rows,t=e.columns,r=h.default.init(this.$el.querySelector(".vxe-chart--wrapper")),i=t[0],s={data:[]},o=[],n={type:"category",data:a.map(function(e){return u.default.get(e,i.property)})};t.forEach(function(t,e){e&&(s.data.push(t.title),o.push({name:t.title,type:"bar",data:a.map(function(e){return u.default.get(e,t.property)})}))});var c={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:s,xAxis:n,yAxis:{type:"value"},series:o};r.setOption(c),this.$chart=r},close:function(){this.$chart.dispose(),this.$chart=null},zoom:function(){this.$chart.resize()}}})},CHART_LINE:function(e){var l=e.$table,t=e.menu;this.$XModal({resize:!0,mask:!1,lockView:!1,showFooter:!1,width:600,height:400,title:t.name,slots:{default:function(e,t){return[t("div",{class:"vxe-chart--wrapper"},[t("div",{class:"vxe-chart--panel"})])]}},events:{show:function(){var e=l.getMouseCheckeds(),a=e.rows,t=e.columns,r=h.default.init(this.$el.querySelector(".vxe-chart--wrapper")),i=t[0],s={data:[]},o=[],n={type:"category",data:a.map(function(e){return u.default.get(e,i.property)})};t.forEach(function(t,e){e&&(s.data.push(t.title),o.push({name:t.title,type:"line",data:a.map(function(e){return u.default.get(e,t.property)})}))});var c={tooltip:{trigger:"axis"},legend:s,toolbox:{feature:{saveAsImage:{}}},xAxis:n,yAxis:{type:"value"},series:o};r.setOption(c),this.$chart=r},close:function(){this.$chart.dispose(),this.$chart=null},zoom:function(){this.$chart.resize()}}})},CHART_PIE:function(e){var c=e.$table,t=e.menu;this.$XModal({resize:!0,mask:!1,lockView:!1,showFooter:!1,width:600,height:400,title:t.name,slots:{default:function(e,t){return[t("div",{class:"vxe-chart--wrapper"},[t("div",{class:"vxe-chart--panel"})])]}},events:{show:function(){var e=c.getMouseCheckeds(),t=e.rows,a=e.columns,r=h.default.init(this.$el.querySelector(".vxe-chart--wrapper")),i=a[0],s=t.map(function(e){return u.default.get(e,i.property)}),o=[];t.forEach(function(e){o.push({name:u.default.get(e,a[0].property),value:u.default.get(e,a[1].property)})});var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:10,top:20,bottom:20,data:s},series:[{name:"姓名",type:"pie",radius:"55%",center:["40%","50%"],data:o}]};r.setOption(n),this.$chart=r},close:function(){this.$chart.dispose(),this.$chart=null},zoom:function(){this.$chart.resize()}}})}};function a(e,t){var a=e.code,r=t.$table;switch(a){case"CHART_BAR_X":case"CHART_BAR_Y":case"CHART_LINE":case"CHART_PIE":var i=r.getMouseCheckeds(),s=i.rows,o=i.columns;e.disabled=!s.length||o.length<2}}function i(t){t.options.forEach(function(e){e.forEach(function(e){a(e,t),e.children&&e.children.forEach(function(e){a(e,t)})})})}var s={install:function(e){var t=e.interceptor,a=e.menus;t.add("event.show_menu",i),a.mixin(r)}};e.VXETablePluginCharts=s,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(s);var o=s;e.default=o});